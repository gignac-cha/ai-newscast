# Claude Code 컨텍스트 설정

## 📋 프로젝트 정보
- **프로젝트명**: AI 뉴스캐스트 (ai-newscast)
- **버전**: v2.1.3
- **타입**: 모노레포 (pnpm workspace)
- **완성도**: 90% (9/10 패키지 완료)

## 🎯 프로젝트 목적
빅카인드(bigkinds.or.kr)에서 실시간 뉴스를 수집하여 AI 기반 뉴스캐스트를 완전 자동화 생성하는 시스템

## 🏗️ 기술 스택
- **언어**: TypeScript (Node.js 24+), Python (UV + Pydantic)
- **빌드**: Turbo 모노레포 + ESBuild
- **AI**: Google Gemini 2.5 Pro + 2.0 Flash
- **TTS**: Google Cloud TTS Chirp HD (8개 모델)
- **오디오**: FFmpeg MP3 처리

## 📦 패키지 구조 (10개)
```
packages/
├── core/                    # ✅ 공통 타입, 유틸리티
├── news-crawler-py/         # ✅ 메인 Python 크롤러
├── news-crawler/            # ✅ 대안 TypeScript 크롤러
├── news-processor/          # ✅ AI 뉴스 통합
├── script-generator/        # ✅ 뉴스캐스트 스크립트 생성
├── api-server/              # ✅ Cloudflare Workers API
├── audio-generator/         # ✅ TTS 음성 생성
├── audio-processor/         # ✅ 오디오 병합/후처리
├── cli/                     # ✅ 통합 CLI
└── web/                     # ✅ 웹 플레이어
```

## 🔄 7단계 파이프라인
1. **토픽 추출** → bigkinds.or.kr 메인페이지
2. **뉴스 목록** → POST API 호출
3. **뉴스 상세** → GET API 호출 (병렬)
4. **AI 통합** → Google Gemini 통합/정리
5. **스크립트 생성** → 대화형 뉴스캐스트 스크립트
6. **TTS 생성** → Google Cloud TTS 음성
7. **오디오 병합** → FFmpeg MP3 생성

## 🚀 주요 명령어
```bash
# 환경 설정
pnpm env:setup              # 자동 환경 설정
pnpm install && pnpm build  # 의존성 + 빌드

# 데모 실행
pnpm demo:quick             # 빠른 데모
pnpm demo:audio             # 오디오 데모

# 완전 파이프라인
pnpm pipeline:full          # 전체 파이프라인
pnpm pipeline:fast          # 빠른 테스트 (1개 토픽)

# 크롤링
pnpm crawl:pipeline --max-topics 5   # 5개 토픽 크롤링
pnpm crawl:topics           # 토픽만 추출

# 개별 단계
pnpm news:process <folder>  # AI 뉴스 통합
pnpm script:generate <folder>  # 스크립트 생성
pnpm audio:generate <folder>   # TTS 생성
pnpm audio:merge <folder>      # 오디오 병합
```

## 📁 데이터 구조
```
output/2025-06-24T12-00-00-000000/
├── topic-list.json         # 토픽 목록
├── topic-01/
│   ├── news-list.json      # 뉴스 목록
│   ├── news.json           # AI 통합 뉴스
│   ├── newscast-script.json # 뉴스캐스트 스크립트
│   ├── audio/              # TTS 파일들
│   └── newscast.mp3        # 완성된 뉴스캐스트
```

## 🔑 필수 환경변수
```bash
GOOGLE_AI_API_KEY=your_google_ai_api_key
GOOGLE_APPLICATION_CREDENTIALS=/path/to/service-account-key.json
```

## 📚 참고 문서
- **CLAUDE.md** - 상세 프로젝트 가이드
- **docs/PROJECT_CONTEXT_GUIDE.md** - 신규 개발자 온보딩 가이드
- **README.md** - 빠른 시작 가이드
- **MIGRATION.md** - 레거시 마이그레이션 가이드
- **TODO.md** - 현재 작업 상황

## 🎯 현재 상태 (2025-06-24)
- **완성도**: 90% (전체 파이프라인 동작)
- **최신 성과**: 65개 뉴스 → 3분 20초 뉴스캐스트 자동 생성
- **핵심 기능**: 모든 7단계 파이프라인 구현 완료
- **TTS 품질**: 자연스러운 한국어 Chirp HD 음성
- **배포**: Cloudflare Workers API 실제 배포됨

## 🔧 개발 가이드라인
- **코딩 스타일**: TypeScript ES 모듈 + 명시적 .ts 확장자
- **아키텍처**: Pipeline, Strategy, Factory 패턴 적용
- **에러 처리**: 분류별 에러 핸들링 + 재시도 로직
- **성능**: 병렬 처리 + 메모리 최적화 + 캐싱
- **품질**: Zod/Pydantic 런타임 검증 + 자동 테스트

---
*Claude Code가 프로젝트 컨텍스트를 효율적으로 이해할 수 있도록 작성된 설정 파일*